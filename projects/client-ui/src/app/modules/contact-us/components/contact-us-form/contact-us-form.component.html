<div class="form-container">
  <h3 [translateLocal]="{EN: 'LEAVE US A MESSAGE', AR: 'اترك لنا رسالة'}"></h3>
  <form class="contact-form" [formGroup]="contactForm">
    <div class="first-inputs-row ">
      <div class="mat-select-container title-container">
        <mat-select formControlName="title" [(ngModel)]="title" class="title-select" [placeholder]="isArabic ? 'الوظيفة' : 'Title'">
          <mat-option *ngFor="let title of titles" [value]="isArabic ? title.nameAr :title.nameEn">
            {{isArabic ? title.nameAr :title.nameEn}}
          </mat-option>
        </mat-select>
        <div class="error-label">
          <div class="text-danger" [translateLocal]="{AR: 'الحقل مطلوب',EN: 'Field is require'}"
               *ngIf="contactForm.get('title').touched && contactForm.get('title').errors?.required">
          </div>
        </div>
      </div>
      <div class="input-container firstName-container">
        <input matInput class="input-fName" type="text" name="fName" formControlName="firstName" [(ngModel)]="firstName"
               [placeholder]="isArabic ? 'الاسم الأول ' : 'First Name'">

        <div class="error-label">
          <div class="text-danger" [translateLocal]="{AR: 'الحقل مطلوب',EN: 'Field is require'}"
               *ngIf="contactForm.get('firstName').touched && contactForm.get('firstName').errors?.required">
          </div>
          <div class="text-danger" [translateLocal]="{AR: 'غير مسموح بالمسافة',EN: 'Whitespace is not allowed'}"
               *ngIf="contactForm.get('firstName').touched && contactForm.get('firstName').errors?.noWhiteSpace">
          </div>

        </div>
      </div>

      <div class="input-container lastName-container">
        <input matInput class="input-fName"  [(ngModel)]="lastName" type="text" name="lName" formControlName="lastName"
               [placeholder]="isArabic ? 'الاسم الأخير' : 'Last Name'">

        <div class="error-label">
                <span class="text-danger" [translateLocal]="{AR: 'الحقل مطلوب',EN: 'Field is require'}"
                      *ngIf="contactForm.get('lastName').touched && contactForm.get('lastName').errors?.required">
                </span>
          <div class="text-danger" [translateLocal]="{AR: 'الاسم الأخير خاطئ',EN: 'Invalid Last Name'}"
               *ngIf="contactForm.get('lastName').hasError('pattern')">
          </div>
          <div class="text-danger" [translateLocal]="{AR: 'غير مسموح بالمسافة',EN: 'Whitespace is not allowed'}"
               *ngIf="contactForm.get('lastName').touched && contactForm.get('lastName').errors?.noWhiteSpace">
          </div>
        </div>
      </div>
    </div>
    <div class="input-container">
      <input matInput type="email" name="email"  [(ngModel)]="email" formControlName="email" class="email"
             [placeholder]="isArabic ? 'البريد الالكتروني ' : 'Email'">
    </div>
    <div class="error-label">
          <span class="text-danger" [translateLocal]="{AR: 'الحقل مطلوب',EN: 'Field is require'}"
                *ngIf="contactForm.get('email').touched && contactForm.get('email').errors?.required">
          </span>
      <div class="text-danger" [translateLocal]="{AR: 'البريد الالكتروني  خاطئ',EN: 'Invalid Email'}"
           *ngIf="contactForm.get('email').touched && contactForm.get('email').hasError('pattern')">
      </div>
    </div>
    <div class="input-container">
      <input matInput [(ngModel)]="subject"
             type="text" name="subject" formControlName="subject" class="subject"
             [placeholder]="isArabic ? 'عنوان الرسالة' : 'Subject'">
    </div>
    <div class="error-label">
          <span class="text-danger" [translateLocal]="{AR: 'الحقل مطلوب',EN: 'Field is require'}"
                *ngIf="contactForm.get('subject').touched && contactForm.get('subject').errors?.required">
          </span>
      <div class="text-danger" [translateLocal]="{AR: ' عنوان الرسالة خاطئ',EN: 'Invalid subject '}"
           *ngIf="contactForm.get('subject').hasError('pattern')">
      </div>
      <div class="text-danger" [translateLocal]="{AR: 'غير مسموح بالمسافة',EN: 'Whitespace is not allowed'}"
           *ngIf="contactForm.get('subject').touched && contactForm.get('subject').errors?.noWhiteSpace">
      </div>
    </div>
    <div class="mat-select-container">
      <mat-select class="select-option" [placeholder]="isArabic ? 'اختر' : 'Select an option'" formControlName="option">
        <mat-option *ngFor="let item of options" [value]="isArabic ? item.nameAr :item.nameEn">
          {{isArabic ? item.nameAr :item.nameEn}}
        </mat-option>
      </mat-select>
      <div class="error-label">
        <div class="text-danger" [translateLocal]="{AR: 'الحقل مطلوب',EN: 'Field is require'}"
             *ngIf="contactForm.get('option').touched && contactForm.get('option').errors?.required">
        </div>
      </div>
    </div>
    <div class="input-container">
      <textarea matInput type="text" name="massage" formControlName="message"  [(ngModel)]="message"
                [placeholder]="isArabic ? ' الرسالة' : 'Your Message'" rows="4" class="mb-0">
      </textarea>
      <div class="error-label">
        <span class="text-danger" [translateLocal]="{AR: 'الحقل مطلوب',EN: 'Field is require'}"
              *ngIf="contactForm.get('message').touched && contactForm.get('message').errors?.required">
        </span> <span class="text-danger" [translateLocal]="{AR: 'يجب الا يزيد موضوع الرساله عن 512 حرف',EN: 'The subject of the message should not exceed 512 characters'}"
              *ngIf="contactForm.get('message').touched && contactForm.get('message').errors?.maxlength">
        </span>
      </div>
    </div>
    <div class="radio-button-container">
      <p [translateLocal]="{EN: 'Do you require a response?', AR: 'هل تتوقع رد على الرسالة!'}"></p>
      <mat-radio-group aria-label="Select an option" formControlName="response"  [(ngModel)]="response">
        <mat-radio-button value="true" name="responseMassage">
          <p [translateLocal]="{EN: 'Yes', AR: 'نعم'}"></p>
        </mat-radio-button>
        <mat-radio-button value="false" name="responseMassage">
          <p [translateLocal]="{EN: 'No', AR: 'لا'}"></p>
        </mat-radio-button>
      </mat-radio-group>
      <div class="error-label">
        <div class="text-danger" [translateLocal]="{AR: 'الحقل مطلوب',EN: 'Field is require'}"
             *ngIf="contactForm.get('response').touched && contactForm.get('response').errors?.required">
        </div>
      </div>
    </div>

    <h5 [translateLocal]="{EN: '* All fields are required', AR: '* كل البيانات إجبارية'}"></h5>
    <re-captcha id="recaptcha" formControlName="captchaToken"  [(ngModel)]="captchaToken" required></re-captcha>
    <button
      type="submit" [disabled]="!contactForm.valid"   [ngStyle]="{'background-color': !contactForm.valid ? 'darkgray' : '#5a3f99' }" (click)="submitContactForm()"
      [translateLocal]="{EN: 'Send Message', AR: 'ارسال'}">
    </button>
  </form>
  <div *ngIf="successMessageIsExist" class="alert alert-success"
       [translateLocal]="{EN: 'Your message has been sent successfully', AR: 'لقد تم ارسال رسالتك بنجاح'}"></div>
</div>
